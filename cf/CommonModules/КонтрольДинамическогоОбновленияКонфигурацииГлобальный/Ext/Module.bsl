// Обработчик ожидания проверяет, что информационная база была обновлена динамически, и 
// сообщает об этом пользователю.
//
Процедура ОбработчикОжиданияПроверкиДинамическогоИзмененияИБ() Экспорт
	
	Если КонтрольДинамическогоОбновленияКонфигурации.КонфигурацияБДБылаИзмененаДинамически() Тогда
		
		ОтключитьОбработчикОжидания("ОбработчикОжиданияПроверкиДинамическогоИзмененияИБ");
		
		ТекстСообщения = НСтр("ru = 'В конфигурацию информационной базы внесены изменения.
		                            |Для работы с ними рекомендуется перезапустить программу.'");
		
		ТекстСообщения = ТекстСообщения + Символы.ПС + НСтр("ru = 'Перезапустить?'");
		РезультатВопроса = Вопрос(ТекстСообщения, РежимДиалогаВопрос.ДаНет);
		Если РезультатВопроса = КодВозвратаДиалога.Да Тогда
			ЗавершитьРаботуСистемы(Истина, Истина);
		КонецЕсли;
		
		ПодключитьОбработчикОжидания("ОбработчикОжиданияПроверкиДинамическогоИзмененияИБ", 20 * 60);
		
	КонецЕсли;
	
КонецПроцедуры


