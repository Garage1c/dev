<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 11.00.9600.18052"></meta></head><body>
<p>Наборы данных это сущность которая преобразует данные для передачи по веб сервисам иобратно в данные базы.</p>
<p>Набор может относится не к 1 виду метаданных а сразу к нескольким. Передача и приме набора осуществляется массивами а не по 1. Если нужно передать 1 элемент это всеравно должен быть массив с 1 элементом.</p>
<h2>Алгоритмы </h2>
<h3>Получение значения</h3>
<p>Это как из строкового представления ключа можно получить данную сущность.</p>
<p><u>Доступные переменные:</u></p>
<p><font color="#0000cd">Ключ</font> - строка, ключ для получения значения (обычно это текстовый гуид)</p>
<p><u>Обязательное заполнение:</u></p>
<p><font color="#0000cd">Значение</font> - произвольный, в эту переменную необходимо вернуть значение данной сущности (например сслку на справочник).</p>
<h3>Преобразование JSON</h3>
<p>Тут обрабатываются значения JSON при записи строки JSON. Если не заполнять, тогда будет преобразован типовыми средстави JSON.</p>
<p><u>Доступные переменные:</u></p>
<ul><li><font color="#0000cd"><font color="#000000"><font color="#0000ff">Свойство</font> </font><span class="operator"></span></font>- строка, ключ для получения значения (обычно это текстовый гуид) 
</li><li><font color="#0000ff">Значение</font> - произвольный, обрабатываемое значения JSON 
</li><li><font color="#0000ff">ЭтотОбъект</font> - ссылка на справочник ОбменДанными в котором находится текущий код преобразования 
</li><li><font color="#0000ff">Отказ</font> - если в эту переменную установить ИСТИНА тогда такое значение обрабатываться не будет и не запишется в строку JSON</li></ul><p><u>Обязательное заполнение:</u></p>
<p><font color="#0000cd">Результат</font> - произвольный, в эту переменную необходимо вернуть резултат для записи в JSON</p>
<h3>Получение ключа</h3>
<p>Это как из значения можно получить ключ.</p>
<p><u>Доступные переменные:</u></p>
<p><font color="#0000cd">Значение</font> - произвольный, значение для получения ключа (например ссылка на справочник)</p>
<p><font color="#0000ff">ЭтотОбъект</font> - ссылка на справочник ОбменДанными в котором находится текущий код преобразования </p>
<p><u>Обязательное заполнение:</u></p>
<p><font color="#0000cd">Ключ</font> - произвольный, в эту переменную необходимо вернуть значение данной сущности (например ссылку на справочник).</p>
<h3>Получение данных</h3>
<p>Алгоритм который должен из переданных ему значений данные для упаковки в json. Если ничего не заполнять тогда эти данные будут переданы как есть массивом ссылок.</p>
<p><u>Доступные переменные:</u></p>
<p><font color="#0000cd">Значения</font> - массив, внутри ссылки (Значение)  данных для отправки</p>
<p><u>Обязательное заполнение:</u></p>
<p><font color="#0000cd">Данные</font> - произвольный, данные для записи в json. Не нужно эти данные преобразовывать в JSON!</p>
<h3>Отправление данных</h3>
<p>Алгоритм который передает данные во внешнюю базу. Если ничего не заполнять, то отправит по стандартному протоколу REST.</p>
<p><u>Доступные переменные:</u></p>
<p><font color="#0000ff">Соединение</font> - закешированное соединение подключенное к стороней базе</p>
<p><font color="#0000ff">ЭтотОбъект</font> - ссылка на справочник обмен данными в котором прописан данный код</p>
<p><font color="#0000cd">ДанныеJSON<font color="#000000"> </font></font>- строка json, данные для передачи ОбменДанными - строка, наименование справочника "Обмен данными" правила которого используются для приема</p>
<p>В заголовке запроса нужно указывать обязательные заголовки для определения каким набором данных обрабатывать запрос:</p>
<menu style="MARGIN-RIGHT: 0px" dir="ltr"><li dir="ltr">НаборДанных - строка, наименование справочника "Набор данных" который должен принимать 
</li><li dir="ltr">Данные - произвольные данные для обработки</li></menu><p><u>Обязательное заполнение:</u></p>
<p><font color="#0000cd">Результат</font> - булево, результат выполнения операции, Истина значит данные ушли</p>
<h3>Прием данных</h3>
<p>Алгоритм который принимает данные из внешней бызы.</p>
<p><u>Доступные переменные:</u></p>
<p><font color="#0000cd"><font color="#0000ff">ЭтотОбъект</font><font color="#000000"> - ссылка на справочник обмен данными в котором прописан данный код</font></font></p>
<p><font color="#0000cd">Данные<font color="#000000"> </font></font>- произвольный, данные пришедшие из другой базы</p>
<p><u>Обязательное заполнение:</u></p>
<p><font color="#0000cd">Результат</font> - булево, результат выполнения операции, Истина значит данные расшифрованы и записаны успешно</p>
<h2>Доступные методы внутри алгоритмов</h2>
<p>ПолучитьСоединение() - возвращает текущее соединение с другой базой полученное из параметров справочника обм_ОбменДанными.</p></body></html>